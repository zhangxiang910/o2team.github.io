<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Matter.js 2D 物理引擎试玩报告 | Aotu.io「凹凸实验室」</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="凹凸实验室"><meta name="designer" content="凹凸实验室"><meta name="rating" content="general"><meta name="format-detection" content="telephone=yes"><meta name="robots" content="index, follow"><meta baidu-gxt-verify-token="2b74a5aea155a215abea8547f929190c"><meta name="keywords" content="Matter.js,物理引擎,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="https://aotu.io/notes/2017/04/17/Matter-js/index.html"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon-48x48.png"><link rel="manifest" href="/img/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#2f83cd"><meta name="application-name" content="Aotu.io"><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/img/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/img/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Aotu.io"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/img/mstile-144x144.png"><meta name="msapplication-config" content="/img/browserconfig.xml"><meta property="wb:webmaster" content="a1686eb81db284d5"><meta name="wechat-logo" content="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_200x200.jpg"><meta name="wechat-title" content="Matter.js 2D 物理引擎试玩报告"><meta name="wechat-desc" content="妈妈再也不用担心我的物理了"><link rel="dns-prefetch" href="//storage.360buyimg.com"><link rel="dns-prefetch" href="//img10.360buyimg.com"><link rel="dns-prefetch" href="//img11.360buyimg.com"><link rel="dns-prefetch" href="//img12.360buyimg.com"><link rel="dns-prefetch" href="//img13.360buyimg.com"><link rel="dns-prefetch" href="//img14.360buyimg.com"><link rel="dns-prefetch" href="//img20.360buyimg.com"><link rel="dns-prefetch" href="//img30.360buyimg.com"><link rel="dns-prefetch" href="//misc.aotu.io"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io"><meta name="description" content="何为物理引擎，能做什么？物理引擎是一个计算机程序，使用质量、速度、摩擦力和空气阻力等变量，模拟了一个近似真实的物理系统，为刚性物体赋予真实的物理效果，比如重力、旋转和碰撞等效果，让物体的行为表现的更加趋向真实，例如，守望先锋的英雄在跳起时，系统所设置的重力参数就决定了他能跳多高，下落时的速度有多快，子弹的飞行轨迹等等。   四个例子不同的效果，模拟物体落入斜坡的表现  无物理效果 重力，没有碰撞"><meta name="keywords" content="物理引擎,Matter.js"><meta property="og:type" content="article"><meta property="og:title" content="Matter.js 2D 物理引擎试玩报告"><meta property="og:url" content="https://aotu.io/notes/2017/04/17/Matter-js/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="何为物理引擎，能做什么？物理引擎是一个计算机程序，使用质量、速度、摩擦力和空气阻力等变量，模拟了一个近似真实的物理系统，为刚性物体赋予真实的物理效果，比如重力、旋转和碰撞等效果，让物体的行为表现的更加趋向真实，例如，守望先锋的英雄在跳起时，系统所设置的重力参数就决定了他能跳多高，下落时的速度有多快，子弹的飞行轨迹等等。   四个例子不同的效果，模拟物体落入斜坡的表现  无物理效果 重力，没有碰撞"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_CS1.5.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_CSGO.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_EngineAndWorld.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Render.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Bodies.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Bridge.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Cloth.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_NewtonsCradle.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Constraint.jpg"><meta property="og:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_MatterTools.jpg"><meta property="og:updated_time" content="2020-04-28T03:04:50.299Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Matter.js 2D 物理引擎试玩报告"><meta name="twitter:description" content="何为物理引擎，能做什么？物理引擎是一个计算机程序，使用质量、速度、摩擦力和空气阻力等变量，模拟了一个近似真实的物理系统，为刚性物体赋予真实的物理效果，比如重力、旋转和碰撞等效果，让物体的行为表现的更加趋向真实，例如，守望先锋的英雄在跳起时，系统所设置的重力参数就决定了他能跳多高，下落时的速度有多快，子弹的飞行轨迹等等。   四个例子不同的效果，模拟物体落入斜坡的表现  无物理效果 重力，没有碰撞"><meta name="twitter:image" content="https://misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_CS1.5.jpg"><meta name="twitter:site" content="o2circle"><script>var App={root:"/",isHome:!1,isCate:!1,isTag:!1}</script><script>window.WechatShareData={imgUrl:"//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_200x200.jpg",link:window.location.href,title:"Matter.js 2D 物理引擎试玩报告",desc:"妈妈再也不用担心我的物理了"},window.WechatJSSDKURL="https://aotu.jd.com/aotu-wx-api/api/wx/jssdk/signature"</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/index.html" title="Aotu.io">Aotu.io</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"><ul class="mod-nav-list"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item"><a target="_blank" href="https://geeks.aotu.io" class="main-nav-link">极客沙龙</a></li><li class="main-nav-item"><a href="https://cases.aotu.io" class="main-nav-link">H5案例</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li><li class="main-nav-item"><a href="/join/" class="main-nav-link">加入我们</a></li></ul></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_900x500.jpg" alt="Matter.js 2D 物理引擎试玩报告"></div><header class="post-hd"><h1 class="post-tit">Matter.js 2D 物理引擎试玩报告</h1><div class="post-meta">by <a target="_blank" href="https://github.com/ONE-SUNDAY" class="post-author">TH</a> on <span>2017-04-17</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>妈妈再也不用担心我的物理了</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><a id="more"></a><h2 id="何为物理引擎，能做什么？" class="post-heading"><a href="#何为物理引擎，能做什么？" class="headerlink" title="何为物理引擎，能做什么？"></a>何为物理引擎，能做什么？<a class="post-anchor" href="#何为物理引擎，能做什么？" aria-hidden="true"></a></h2><p>物理引擎是一个计算机程序，使用质量、速度、摩擦力和空气阻力等变量，模拟了一个近似真实的物理系统，为刚性物体赋予真实的物理效果，比如重力、旋转和碰撞等效果，让物体的行为表现的更加趋向真实，例如，守望先锋的英雄在跳起时，系统所设置的重力参数就决定了他能跳多高，下落时的速度有多快，子弹的飞行轨迹等等。</p><video src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_PhysicsEngine.ogg" controls width="400" height="300"></video><p>四个例子不同的效果，模拟物体落入斜坡的表现</p><ul><li>无物理效果</li><li>重力，没有碰撞效果</li><li>重力和碰撞，没有旋转效果</li><li>重力、碰撞以及旋转效果</li></ul><p>物理引擎通常有两种常见类型：实时物理引擎和高精度物理引擎。高精度物理引擎需要更多的处理能力来计算非常精确的物理，通常使用在科学研究（计算物理学）和动画电影制作。实时物理引擎常用于电子游戏并且简化了算法，降低精确度以减少处理时间，使得在游戏中有更好的处理速度。</p><h2 id="物理引擎在游戏中的应用" class="post-heading"><a href="#物理引擎在游戏中的应用" class="headerlink" title="物理引擎在游戏中的应用"></a>物理引擎在游戏中的应用<a class="post-anchor" href="#物理引擎在游戏中的应用" aria-hidden="true"></a></h2><p>CS1.5 应用的是真实度比较差的物理引擎，人物死亡后倒地动作是固定的，即使有障碍物也会执行这个动作，所以人物穿过了门。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_CS1.5.jpg" alt="CS 1.5"></p><p>而 CS:GO 因为采用了 Source Engine 开发，模拟较为精细，所以人物死亡之后的姿势可以根据物理学自动计算，所以可以躺在杆上，使游戏更加真实。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_CSGO.jpg" alt="CS GO"></p><h2 id="Matter-js-介绍" class="post-heading"><a href="#Matter-js-介绍" class="headerlink" title="Matter.js 介绍"></a>Matter.js 介绍<a class="post-anchor" href="#Matter-js-介绍" aria-hidden="true"></a></h2><p><a href="http://brm.io/matter-js/" target="_blank" rel="noopener">Matter.js</a> 是一个用于 Web 的 JavaScript 2D 物理引擎库，该项目诞生于 2014 年 2 月 28 号（0.5.0-alpha 版本），目前已更新迭代了 11 个版本（最新为 0.12.0 版本），它相较于老牌的 Box2D 引擎库，Matter.js 更为轻量级（压缩版仅有 84 KB），并且在性能和功能方面也不逊色。</p><p>在没有 Matter.js 前，你想去制作一个物理游戏不仅需要扎实数学知识和物理知识，并且需要通过编程语言表示出来让机器读懂。而有 Matter.js 就不一样了，它为开发者提供了许多的功能模块，通过简单易用的 API 就可以实现例如弹跳、碰撞、重力、滚动等物理效果。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS.jpg" alt="Matter.js 介绍"></p><h2 id="Matter-js-下载" class="post-heading"><a href="#Matter-js-下载" class="headerlink" title="Matter.js 下载"></a>Matter.js 下载<a class="post-anchor" href="#Matter-js-下载" aria-hidden="true"></a></h2><p>首先，需要下载<a href="https://github.com/liabru/matter-js/blob/master/build/matter.js" target="_blank" rel="noopener">开发版本</a>或者<a href="https://github.com/liabru/matter-js/releases" target="_blank" rel="noopener">稳定版定</a>，并将脚本加入到页面中，即可开启旅程。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"matter.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>你也可以使用包管理工具 Bower 或 NPM</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bower install matter-js</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install matter-js</span></span><br></pre></td></tr></table></figure><h2 id="Matter-js-支持的特性" class="post-heading"><a href="#Matter-js-支持的特性" class="headerlink" title="Matter.js 支持的特性"></a>Matter.js 支持的特性<a class="post-anchor" href="#Matter-js-支持的特性" aria-hidden="true"></a></h2><table><tr><td>刚体</td><td>复合体</td><td>复合材料</td></tr><tr><td>凹面和凸面</td><td>物理特性（质量、面积、密度等）</td><td>弹性（弹性和非弹性碰撞）</td></tr><tr><td>碰撞（粗略阶段、中间阶段、精细阶段）</td><td>稳定的堆叠和静止</td><td>动量守恒</td></tr><tr><td>摩擦力和阻力</td><td>事件监听</td><td>约束</td></tr><tr><td>重力</td><td>睡眠和静态物体</td><td>圆角（倒角）</td></tr><tr><td>视图（平移、缩放）</td><td>碰撞查询（射线追踪、区域测试）</td><td>时间缩放（减速、加速）</td></tr><tr><td>Canvas 渲染器（支持向量和纹理）</td><td>MatterTools 工具（创建、测试和调试）</td><td>世界状态序列化，需要 resurrect.js</td></tr><tr><td>跨浏览器（Chrome、Firefox、Safari、IE8+）</td><td>兼容移动端（触摸、响应）</td><td>原生 JS 实现</td></tr></table><h2 id="Matter-js-中基础的概念" class="post-heading"><a href="#Matter-js-中基础的概念" class="headerlink" title="Matter.js 中基础的概念"></a>Matter.js 中基础的概念<a class="post-anchor" href="#Matter-js-中基础的概念" aria-hidden="true"></a></h2><p>大多数的物理引擎对于物理模拟的要素都有着相近的概念，不同的引擎差别在于使用的方式，功能的全面性，模拟的精细度等层面，下面就先从物理世界的基础概念讲起。</p><h4 id="Engine（引擎）和-World（世界）" class="post-heading"><a href="#Engine（引擎）和-World（世界）" class="headerlink" title="Engine（引擎）和 World（世界）"></a>Engine（引擎）和 World（世界）<a class="post-anchor" href="#Engine（引擎）和-World（世界）" aria-hidden="true"></a></h4><p><code>Matter.Engine</code> 模块包含了创建和处理引擎的方法，引擎是负责管理和更新模拟世界的控制器，引擎可以控制时间的缩放，可以检测所有的碰撞事件，并且拿到所有碰撞的物体对（pairs）。</p><p>在 Matter.js 中任何的物体都需要一个容身处，而存放这些物体的地方，我们称之为世界，物体必须添加到世界里，然后由引擎运行这个世界。而创建世界需要使用到 <code>Matter.World</code> 模块，该模块包含了用于创建和操作世界的方法，一个 <code>Matter.World</code> 相当于一个复合物体，物体、约束、复合物体的聚合体，其次世界还有额外的一些属性，比如重力、边界。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_EngineAndWorld.jpg" alt="MatterJS_EngineAndWorld"></p><h4 id="Render（渲染）" class="post-heading"><a href="#Render（渲染）" class="headerlink" title="Render（渲染）"></a>Render（渲染）<a class="post-anchor" href="#Render（渲染）" aria-hidden="true"></a></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Matter.Render 用法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> engine = Engine.create();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ... 将物体加入到世界中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> render = Render.create(&#123;</span><br><span class="line">    element: <span class="built_in">document</span>.body,</span><br><span class="line">    engine: engine,</span><br><span class="line">    options: options</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Engine.run(engine);</span><br><span class="line">Render.run(render);</span><br></pre></td></tr></table></figure><ul><li><code>element</code> 是一个容器元素，使用时指定要渲染的节点</li><li><code>engine</code> 指定为 <code>Matter.Engine</code> 实例</li><li><code>options</code> 指定一些渲染的参数</li></ul><p><code>Matter.Render</code> 是将实例渲染到 Canvas 中的渲染器，控制视图层的样式，它的主要作用是用于开发和调试，默认情况下 <code>Matter.Render</code> 将只显示物体的线框（轮廓），这对于开发和调试很有帮助，但如果需要使用到全局实体渲染则需要将线框模式关闭 <code>render.options.wireframes = false</code>，另外它同样也适合制作一些简单的游戏，因为它包括了一些绘图选项、线框、向量、Sprite 精灵和视窗功能。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Render.jpg" alt="MatterJS_EngineAndWorld"></p><p><a href="http://jdc.jd.com/demo/matterjs/render.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="Body（刚体）" class="post-heading"><a href="#Body（刚体）" class="headerlink" title="Body（刚体）"></a>Body（刚体）<a class="post-anchor" href="#Body（刚体）" aria-hidden="true"></a></h4><p>物体或者叫刚体，在物理引擎里特指坚硬的物体，具有固定的形状，不能形变。刚体可以用于表示一个箱子、一个球或是一块木头，每个物体都有自己的物理属性，质量、速度、摩擦力、角度等，还可以设置刚体的标记。<code>Matter.Bodies</code> 模块中内置了几种刚体，矩形 <code>Matter.rectangle</code>、多边形 <code>Matter.polygon</code>、圆形 <code>Matter.circle</code> 、梯形 <code>Matter.trapezoid</code> 等等。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Bodies.jpg" alt="MatterJS_EngineAndWorld"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建刚体</span></span><br><span class="line"><span class="keyword">var</span> rect = Bodies.rectangle(<span class="number">200</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">50</span>), <span class="comment">// 矩形</span></span><br><span class="line">    circle = Bodies.circle(<span class="number">300</span>, <span class="number">100</span>, <span class="number">25</span>), <span class="comment">// 圆</span></span><br><span class="line">    polygon = Bodies.polygon(<span class="number">450</span>, <span class="number">100</span>, <span class="number">5</span>, <span class="number">25</span>), <span class="comment">// 多边形</span></span><br><span class="line">    trapezoid = Bodies.trapezoid(<span class="number">590</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">3</span>); <span class="comment">// 梯形</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将刚体添加到世界中</span></span><br><span class="line">World.add(engine.world, [rect, circle, polygon, trapezoid]);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/bodies.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="Composite（复合体）" class="post-heading"><a href="#Composite（复合体）" class="headerlink" title="Composite（复合体）"></a>Composite（复合体）<a class="post-anchor" href="#Composite（复合体）" aria-hidden="true"></a></h4><p>由刚体和复合材料通过约束组合在一起的就叫做复合体。复合体对外当作一个刚体，复合体的物理属性是通过所包含的刚体的属性综合计算出来的。<code>Matter.Composite</code> 模块包含用于创建和处理复合体的方法，另外还有一个 <code>Matter.Composites</code> 模块，提供了几种特别的复合材料，例如 链 <code>Composites.chain</code>、牛顿摆球 <code>Composites.newtonsCradle</code>、软体 <code>Composites.softBody</code>、汽车 <code>Composites.car</code> 、堆叠 <code>Composites.stack</code> 等等。</p><p><em>桥梁</em></p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Bridge.jpg" alt="MatterJS_EngineAndWorld"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用堆叠创建桥梁</span></span><br><span class="line"><span class="keyword">var</span> group = Body.nextGroup(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bridge = Composites.stack(<span class="number">150</span>, <span class="number">300</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Bodies.rectangle(x, y, <span class="number">50</span>, <span class="number">20</span>, &#123;</span><br><span class="line">        collisionFilter: &#123; <span class="comment">// 过滤碰撞</span></span><br><span class="line">            group: group</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建链约束</span></span><br><span class="line">Composites.chain(bridge, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">-0.5</span>, <span class="number">0</span>, &#123; <span class="attr">stiffness</span>: <span class="number">0.9</span> &#125;);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/bridge.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><p><em>布</em></p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Cloth.jpg" alt="MatterJS_EngineAndWorld"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 软体</span></span><br><span class="line"><span class="keyword">var</span> cloth = Composites.softBody(<span class="number">200</span>, <span class="number">200</span>, <span class="number">20</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="literal">false</span>, <span class="number">8</span>, &#123;</span><br><span class="line">    friction: <span class="number">0.00001</span>, <span class="comment">// 摩擦力</span></span><br><span class="line">    collisionFilter: &#123;</span><br><span class="line">        group: Body.nextGroup(<span class="literal">true</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    render: &#123;</span><br><span class="line">        visible: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/cloth.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><p><em>牛顿摆球</em></p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_NewtonsCradle.jpg" alt="MatterJS_EngineAndWorld"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建牛顿摆球</span></span><br><span class="line"><span class="keyword">var</span> newtonsCradle = Composites.newtonsCradle(<span class="number">300</span>, <span class="number">320</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">150</span>);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/newtonsCradle.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="Constraint（约束）" class="post-heading"><a href="#Constraint（约束）" class="headerlink" title="Constraint（约束）"></a>Constraint（约束）<a class="post-anchor" href="#Constraint（约束）" aria-hidden="true"></a></h4><p>约束可理解为通过一条线，将刚体 A 和刚体 B 两个刚体连接起来，被约束的两个刚体由于被连接在了一起，移动就相互受到了限制。<code>Matter.Constraint</code> 模块包含了用于创建和处理约束的方法，这个约束可以很宽松，也可以很紧绷，还可以定义约束的距离，约束具有弹性，可以用来当作橡皮筋。</p><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_Constraint.jpg" alt="MatterJS_EngineAndWorld"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个矩形和圆形</span></span><br><span class="line"><span class="keyword">var</span> rect = Bodies.rectangle(<span class="number">400</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">50</span>, &#123;</span><br><span class="line">        isStatic: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line">    ball = Bodies.circle(<span class="number">400</span>, <span class="number">400</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">World.add(engine.world, [</span><br><span class="line">    rect,</span><br><span class="line">    ball,</span><br><span class="line">    Constraint.create(&#123;</span><br><span class="line">        bodyA: rect, <span class="comment">// 约束刚体 A</span></span><br><span class="line">        pointA : &#123; <span class="comment">// 约束点 A</span></span><br><span class="line">            x: <span class="number">0</span>,</span><br><span class="line">            y: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        bodyB: ball, <span class="comment">// 约束刚体 B</span></span><br><span class="line">        pointB: &#123; <span class="comment">// 约束点 B</span></span><br><span class="line">            x: <span class="number">0</span>,</span><br><span class="line">            y: <span class="number">-50</span></span><br><span class="line">        &#125;,</span><br><span class="line">        stiffness: <span class="number">0.6</span></span><br><span class="line">    &#125;)</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/constraint.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="MouseConstraint（鼠标约束）" class="post-heading"><a href="#MouseConstraint（鼠标约束）" class="headerlink" title="MouseConstraint（鼠标约束）"></a>MouseConstraint（鼠标约束）<a class="post-anchor" href="#MouseConstraint（鼠标约束）" aria-hidden="true"></a></h4><p>如果你想让刚体与用户之间有交互，那就要在鼠标和刚体之间建立连接，也就是鼠标和刚体间的约束，<code>Matter.MouseConstraint</code> 模块包含用于创建鼠标约束的方法，提供通过鼠标或触摸（移动端时）移动刚体的能力，可以设置什么标记的物体才能被鼠标操纵，创建鼠标约束后，可以捕获到鼠标的各类事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局鼠标约束</span></span><br><span class="line"><span class="keyword">var</span> mouseConstraint = MouseConstraint.create(&#123;</span><br><span class="line">    element: render.canvas</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">World.add(engine.world, mouseConstraint);</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">设置某个标记的物体才能被鼠标操纵</span></span><br><span class="line"><span class="string">var</span> <span class="string">categoryBall</span> <span class="string">=</span> <span class="number">0x0001</span><span class="string">;</span> <span class="string">//</span> <span class="string">分类</span></span><br><span class="line"></span><br><span class="line"><span class="string">var</span> <span class="string">ball</span> <span class="string">=</span> <span class="string">Matter.Bodies.circle(300,</span> <span class="number">350</span><span class="string">,</span> <span class="number">32</span><span class="string">,</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">density:</span> <span class="number">0.68</span><span class="string">,</span> <span class="string">//</span> <span class="string">密度</span></span><br><span class="line">    <span class="attr">restitution:</span> <span class="number">1</span><span class="string">,</span> <span class="string">//</span> <span class="string">弹性</span></span><br><span class="line">    <span class="attr">collisionFilter:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">category:</span> <span class="string">categoryBall</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="string">var</span> <span class="string">mouseConstraint</span> <span class="string">=</span> <span class="string">MouseConstraint.create(&#123;</span></span><br><span class="line">    <span class="attr">element:</span> <span class="string">render.canvas,</span></span><br><span class="line">    <span class="attr">collisionFilter:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">mask:</span> <span class="string">categoryBall</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="string">World.add(engine.world,</span> <span class="string">mouseConstraint);</span></span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/mouseConstraint.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="Vector（向量）" class="post-heading"><a href="#Vector（向量）" class="headerlink" title="Vector（向量）"></a>Vector（向量）<a class="post-anchor" href="#Vector（向量）" aria-hidden="true"></a></h4><p><code>Matter.Vector</code> 模块包含用于创建和操纵向量的方法，向量是引擎有关几何操作行为的基础，修改物体的运动状态基本都是使用向量来控制，例如赋予物体一个力，或者设置物体的速度、旋转角度，并且内置了多个向量的求解函数：向量积、标量积、格式化、垂直向量等等。</p><h4 id="Events（事件）" class="post-heading"><a href="#Events（事件）" class="headerlink" title="Events（事件）"></a>Events（事件）<a class="post-anchor" href="#Events（事件）" aria-hidden="true"></a></h4><p><code>Matter.Events</code> 模块包含了绑定、移除和触发对象的方法。</p><ul><li>绑定事件 <code>Matter.Events.on(object, eventNames, callback)</code></li><li>移除事件 <code>Matter.Events.off(object, eventNames, callback)</code></li><li>触发事件 <code>Matter.Events.trigger(object, eventNames, event)</code></li></ul><h2 id="Matter-js-中的一些属性" class="post-heading"><a href="#Matter-js-中的一些属性" class="headerlink" title="Matter.js 中的一些属性"></a>Matter.js 中的一些属性<a class="post-anchor" href="#Matter-js-中的一些属性" aria-hidden="true"></a></h2><h4 id="施加力" class="post-heading"><a href="#施加力" class="headerlink" title="施加力"></a>施加力<a class="post-anchor" href="#施加力" aria-hidden="true"></a></h4><p><code>Matter.Body.applyForce(body, position, force)</code> 方法可以给刚体施加一个力，传入 X 和 Y 轴需要的力度值，通过这个方法你可以去模拟踢一个足球、投一个篮球的效果。</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">var</span> <span class="keyword">ball </span>= <span class="keyword">Bodies.circle(300, </span><span class="number">100</span>, <span class="number">25</span>, &#123;</span><br><span class="line"><span class="symbol">    density:</span> <span class="number">0</span>.<span class="number">68</span>, // 密度</span><br><span class="line"><span class="symbol">    restitution:</span> <span class="number">0</span>.<span class="number">8</span> // 弹性</span><br><span class="line">&#125;)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">World.add</span>(engine.world, <span class="keyword">ball);</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">function </span><span class="keyword">addForce() </span>&#123;</span><br><span class="line"></span><br><span class="line">    var forceMagnitude = <span class="number">0</span>.<span class="number">02</span> * <span class="keyword">ball.mass;</span></span><br><span class="line"><span class="keyword"> </span>   <span class="keyword">Body.applyForce(ball, </span><span class="keyword">ball.position, </span>&#123;</span><br><span class="line">        x : (forceMagnitude + <span class="meta">Common</span>.random() * forceMagnitude) * <span class="meta">Common</span>.choose([<span class="number">1</span>, -<span class="number">1</span>]),</span><br><span class="line">        y : -forceMagnitude + <span class="meta">Common</span>.random() * -forceMagnitude</span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">addForce();</span></span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/applyForce.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="重力" class="post-heading"><a href="#重力" class="headerlink" title="重力"></a>重力<a class="post-anchor" href="#重力" aria-hidden="true"></a></h4><p>可以设置 X、Y 轴的重力值，默认都为 1，参数在 0、1、-1 中选择使用。</p><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现反重力效果</span></span><br><span class="line">engine.world.<span class="symbol">gravity</span>.<span class="symbol">y</span> = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无重力效果</span></span><br><span class="line">engine.world.<span class="symbol">gravity</span>.<span class="symbol">y</span> = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/gravity.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="睡眠状态" class="post-heading"><a href="#睡眠状态" class="headerlink" title="睡眠状态"></a>睡眠状态<a class="post-anchor" href="#睡眠状态" aria-hidden="true"></a></h4><p>通过 <code>enableSleeping: true</code> 开启睡眠模式后，当刚体处于不受作用状态时，会进入睡眠状态，这样可以有效的提高引擎的性能，当物体被其他物体碰撞或者对刚体施加力时，刚体会被叫醒，引擎会继续对其进行计算模拟。</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开启睡眠状态</span></span><br><span class="line">var engine = <span class="module-access"><span class="module"><span class="identifier">Engine</span>.</span></span>create(&#123;</span><br><span class="line">    enableSleeping: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 还可以针对进入睡眠状态的刚体进行监听，比如将刚体移出世界</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Event</span>.</span></span>on(ball, <span class="string">"sleepStart"</span>, <span class="keyword">function</span><span class="literal">()</span> &#123;</span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">World</span>.</span></span>remove(engine.world, ball);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><a href="http://jdc.jd.com/demo/matterjs/sleeping.html" target="_blank" rel="noopener">DEMO 戳这里</a></p><h4 id="摩擦力" class="post-heading"><a href="#摩擦力" class="headerlink" title="摩擦力"></a>摩擦力<a class="post-anchor" href="#摩擦力" aria-hidden="true"></a></h4><p>摩擦力在 Matter.js 中分别提供了三种：摩擦力 <code>friction</code>、空气摩擦力 <code>frictionAir</code> 以及静止摩擦力 <code>frictionStatic</code>。<code>friction</code> 默认值是 0.1，取值范围在 0 - 1，当值为 0 意味着刚体可以摩擦力的无限滑动，1 意味着对刚体施加力后会立刻停止，<code>frictionAir</code> 默认值是 0.01，取值范围 0 - 1，当值为 0 意味着刚体在空间中移动时速度永远不会减慢，值越高时刚体在空间的移动速度越慢，<code>frictionStatic</code> 默认值 0.5，当值为 0 时意味着刚体几乎是静止的，值越高时意味着需要移动刚体所需的力就越大。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 摩擦力</span></span><br><span class="line">Bodies.rectangle(<span class="number">300</span>, <span class="number">70</span>, <span class="number">40</span>, <span class="number">40</span>, &#123;</span><br><span class="line">    friction: <span class="number">0.01</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 空气摩擦力</span></span><br><span class="line">Bodies.rectangle(<span class="number">300</span>, <span class="number">70</span>, <span class="number">40</span>, <span class="number">40</span>, &#123;</span><br><span class="line">    frictionAir: <span class="number">0.05</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静止摩擦力</span></span><br><span class="line">Bodies.rectangle(<span class="number">300</span>, <span class="number">70</span>, <span class="number">40</span>, <span class="number">40</span>, &#123;</span><br><span class="line">    frictionStatic: <span class="number">1</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="时间缩放" class="post-heading"><a href="#时间缩放" class="headerlink" title="时间缩放"></a>时间缩放<a class="post-anchor" href="#时间缩放" aria-hidden="true"></a></h4><p>可以控制全局的时间，当值为 0 时为冻结模拟，值为 0.1 给出慢动作效果，值为 1.2 时给出加速效果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine.timing.timeScale = <span class="number">0.1</span>;</span><br></pre></td></tr></table></figure><p>这里就简单提及到几个属性，当然还有更多的属性比如：视图（View）、弹性（Restitution）等等，更详细的 API 可到官网查看。</p><h2 id="Matter-js-调试" class="post-heading"><a href="#Matter-js-调试" class="headerlink" title="Matter.js 调试"></a>Matter.js 调试<a class="post-anchor" href="#Matter-js-调试" aria-hidden="true"></a></h2><p>除了前面讲 <code>Matter.Render</code> 模块的时候提到的线框模式 <code>wireframes</code> 便于调试外，<code>Matter.Render</code> 模块其实还为我们提供了以下几种方法，便于我们自定义调试选项：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> render = Render.create(&#123;</span><br><span class="line">    element: <span class="built_in">document</span>.body,</span><br><span class="line">    engine: engine,</span><br><span class="line">    options: &#123;</span><br><span class="line">        width: <span class="number">800</span>,</span><br><span class="line">        height: <span class="number">600</span>,</span><br><span class="line">        pixelRatio: <span class="number">1</span>, <span class="comment">// 设置像素比</span></span><br><span class="line">        background: <span class="string">'#fafafa'</span>, <span class="comment">// 全局渲染模式时背景色</span></span><br><span class="line">        wireframeBackground: <span class="string">'#222'</span>, <span class="comment">// 线框模式时背景色</span></span><br><span class="line">        hasBounds: <span class="literal">false</span>,</span><br><span class="line">        enabled: <span class="literal">true</span>,</span><br><span class="line">        wireframes: <span class="literal">true</span>, <span class="comment">// 线框模式</span></span><br><span class="line">        showSleeping: <span class="literal">true</span>, <span class="comment">// 刚体睡眠状态</span></span><br><span class="line">        showDebug: <span class="literal">false</span>, <span class="comment">// Debug 信息</span></span><br><span class="line">        showBroadphase: <span class="literal">false</span>, <span class="comment">// 粗测阶段</span></span><br><span class="line">        showBounds: <span class="literal">false</span>, <span class="comment">// 刚体的界限</span></span><br><span class="line">        showVelocity: <span class="literal">false</span>, <span class="comment">// 移动刚体时速度</span></span><br><span class="line">        showCollisions: <span class="literal">false</span>, <span class="comment">// 刚体碰撞点</span></span><br><span class="line">        showSeparations: <span class="literal">false</span>, <span class="comment">// 刚体分离</span></span><br><span class="line">        showAxes: <span class="literal">false</span>, <span class="comment">// 刚体轴线</span></span><br><span class="line">        showPositions: <span class="literal">false</span>, <span class="comment">// 刚体位置</span></span><br><span class="line">        showAngleIndicator: <span class="literal">false</span>, <span class="comment">// 刚体转角指示</span></span><br><span class="line">        showIds: <span class="literal">false</span>, <span class="comment">// 显示每个刚体的 ID</span></span><br><span class="line">        showVertexNumbers: <span class="literal">false</span>, <span class="comment">// 刚体顶点数</span></span><br><span class="line">        showConvexHulls: <span class="literal">false</span>, <span class="comment">// 刚体凸包点</span></span><br><span class="line">        showInternalEdges: <span class="literal">false</span>, <span class="comment">// 刚体内部边界</span></span><br><span class="line">        showMousePosition: <span class="literal">false</span> <span class="comment">// 鼠标约束线</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>另外官方提供了三个调试工具，可单独使用或一起使用，如下：</p><h4 id="工具：" class="post-heading"><a href="#工具：" class="headerlink" title="工具："></a>工具：<a class="post-anchor" href="#工具：" aria-hidden="true"></a></h4><ul><li><code>MatterTools.Demo</code> 用于运行和测试 DEMO</li><li><code>MatterTools.Gui</code> 改变引擎的属性</li><li><code>MatterTools.Inspector</code> 检查世界</li></ul><p><img src="//misc.aotu.io/ONE-SUNDAY/MatterJS/MatterJS_MatterTools.jpg" alt="MatterJS_EngineAndWorld"></p><p><a href="http://liabru.github.io/matter-tools/#basic" target="_blank" rel="noopener">官方 DEMO 戳这里</a></p><h4 id="下载" class="post-heading"><a href="#下载" class="headerlink" title="下载"></a>下载<a class="post-anchor" href="#下载" aria-hidden="true"></a></h4><ul><li><a href="https://github.com/liabru/matter-tools/blob/master/build/matter-tools.demo.js" target="_blank" rel="noopener">MatterTools.Demo</a></li><li><a href="https://github.com/liabru/matter-tools/blob/master/build/matter-tools.gui.js" target="_blank" rel="noopener">MatterTools.Gui</a></li><li><a href="https://github.com/liabru/matter-tools/blob/master/build/matter-tools.inspector.js" target="_blank" rel="noopener">MatterTools.Inspector</a> (依赖jQuery)</li></ul><p>感谢你的阅读。</p><h2 id="参考资料" class="post-heading"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料<a class="post-anchor" href="#参考资料" aria-hidden="true"></a></h2><p><a href="http://brm.io/matter-js/index.html" target="_blank" rel="noopener">Matter.js - a 2D rigid body JavaScript physics engin</a><br><a href="https://github.com/liabru/matter-tools" target="_blank" rel="noopener">liabru/matter-tools</a><br><a href="https://en.wikipedia.org/wiki/Physics_engine" target="_blank" rel="noopener">Physics engine - Wikipedia</a><br><a href="http://brm.io/matter-js/demo/" target="_blank" rel="noopener">Matter.js Demo</a></p><div class="post-tags" style="display:none"><a href="/tags/物理引擎/">物理引擎</a> <a href="/tags/Matter-js/">Matter.js</a></div><div class="post-categories" style="display:none"><a href="/cates/Web开发/">Web开发</a></div><div class="post-announce">感谢您的阅读，本文由 <a href="//aotu.io">凹凸实验室</a> 版权所有。如若转载，请注明出处：凹凸实验室（<a href="https://aotu.io/notes/2017/04/17/Matter-js/">https://aotu.io/notes/2017/04/17/Matter-js/</a>）</div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2020-04-28T03:04:50.299Z">上次更新：2020-04-28 11:04:50</time></div></div><div class="post-nav"><div class="post-nav-next"><a href="/notes/2017/04/22/an-update-on-es6-modules-in-node-js/" title="【译】关于 Node.js 里 ES6 Modules 的一次更新说明">【译】关于 Node.js 里 ES6 Modules 的一次更新说明 <i class="fa fa-chevron-right"></i></a></div><div class="post-nav-prev"><a href="/notes/2017/04/13/Sticky-footer/" title="Sticky Footer，完美的绝对底部"><i class="fa fa-chevron-left"></i> Sticky Footer，完美的绝对底部</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAxNy8wNC8xNy9NYXR0ZXItanMv",owner:"o2team",repo:"o2team.github.io",title:"Matter.js 2D 物理引擎试玩报告",body:"https://aotu.io/notes/2017/04/17/Matter-js/index.html\n\n妈妈再也不用担心我的物理了",clientID:"3c4d153e6874260f9c7e",clientSecret:"dd44012504c6168bc05b9266e0554bb28c62ce15",admin:["ONE-SUNDAY"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec aotuwx"><img class="aotuwx-qrcode" src="/img/qrcode.jpg" alt="关注我们"><div class="aotuwx-slogan">每周推送精选技术文章</div></div><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="//taro.jd.com" target="_blank" title="Taro">Taro</a></li><li><a href="//taro-ui.jd.com" target="_blank" title="Taro-UI">Taro-UI</a></li><li><a href="//taro-ext.jd.com" target="_blank" title="Taro 物料市场">Taro 物料市场</a></li><li><a href="//taro-club.jd.com" target="_blank" title="Taro 官方论坛">Taro 官方论坛</a></li><li><a href="//cases.aotu.io/mobi/maga.html" target="_blank" title="拇指期刊">拇指期刊</a></li><li><a href="//athena.aotu.io/" target="_blank" title="Athena">Athena</a></li><li><a href="//guide.aotu.io/" target="_blank" title="前端代码规范">前端代码规范</a></li><li><a href="//halojs.aotu.io/" target="_blank" title="HaloJS">HaloJS</a></li><li><a href="//sign.aotu.io/" target="_blank" title="邮件签名工具">邮件签名工具</a></li><li><a href="//mac.aotu.io/" target="_blank" title="MAC全栈环境">MAC全栈环境</a></li><li><a href="//xcel.aotu.io" target="_blank" title="Excel Filter">Excel Filter</a></li><li><a href="//aotu.jd.com/share/" target="_blank" title="凹凸公开课">凹凸公开课</a></li><li><a href="//at.aotu.io" target="_blank" title="AT-UI">AT-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>友情链接</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.cloudbase.net" target="_blank" title="小程序·云开发"><img style="width:22px;vertical-align:middle" src="https://img20.360buyimg.com/ling/jfs/t1/57175/5/15617/50216/5dca6729E00cdff5d/631622525425290e.png">小程序·云开发</a></li><li><a href="https://ling.jd.com" target="_blank" title="京东羚珑智能设计">羚珑智能设计</a></li><li><a href="https://jdc.jd.com" target="_blank" title="京东设计中心">JDC京东设计中心</a></li><li><a href="http://dopro.io/" target="_blank" title="腾讯 Deep Ocean">Deep Ocean</a></li><li><a href="http://fex.baidu.com" target="_blank" title="百度Web前端研发部">百度FEX</a></li><li><a href="http://taobaofed.org" target="_blank" title="淘宝前端团队">淘宝FED</a></li><li><a href="http://tgideas.qq.com" target="_blank" title="腾讯互娱设计中心">TGIdeas</a></li><li><a href="http://isux.tencent.com" target="_blank" title="腾讯SNG设计中心">ISUX</a></li><li><a href="http://cdc.tencent.com" target="_blank" title="腾讯用户研究与体验设计中心">CDC</a></li><li><a href="http://ued.ctrip.com" target="_blank" title="携程设计委员会">携程UED</a></li><li><a href="https://uiiiuiii.com/" target="_blank" title="优优教程网">优优教程网</a></li><li><a href="https://www.designup.cn/" target="_blank" title="Designup">Designup</a></li><li><a href="http://eux.baidu.com/" target="_blank" title="百度EUX">百度EUX</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/o2team/o2team.github.io" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Designed by <a href="http://aotu.io" target="_blank">凹凸实验室</a> @<a target="_blank" href="http://jdc.jd.com">京东用户体验设计部</a></p><p>Copyright &copy; 2020. All Rights Reserved.</p><p><a href="http://www.miibeian.gov.cn/" target="_blank">粤ICP备15077732号-2</a></p></div></div></footer><script src="/js/bundle/core.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/post_wx_share.js"></script><script src="/js/bundle/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>